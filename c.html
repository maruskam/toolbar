<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta charset="utf-8">
	<script src="./jquery-3.0.0.js"></script>
	<script src="./jquery-ui.js"></script>
	
	<title></title>
		<style>
			#flex_left {
				outline: 1px dashed #666666;
				width: 40px;
				height: 400px;
				position:absolute;
				top:30%;
				left:10px;
			
			}
			#flex_top{
				outline: 1px dashed #666666;
				width: 400px;
				height: 40px;
				position:absolute;
				top:10px;
				left:30%;
				z-index: 1;
			}
			#flex_bottom{
				outline: 1px dashed #666666;
				width: 400px;
				height: 40px;
				position:absolute;
				bottom:10px;
				left:30%;
				z-index: 1;
			}
			#flex_right{
				outline: 1px dashed #666666;
				width: 40px;
				height: 400px;
				position:absolute;
				right:10px;
				top:30%;
				z-index: 1;

			}
			#flex {
				display: -ms-flexbox;
				display: -webkit-flex;
				display: flex;
				margin: 0 auto;
				outline: 1px solid green;
				width: 400px;
				height: 40px;
				justify-content: space-around;
				z-index: 10;
				
			
			}
			.child {
				-moz-box-sizing: border-box;
				box-sizing: border-box;
				padding: 1.0em;
				vertical-align: middle;
			}
			.child1 { background-color: #ddd; }
			.child2 { background-color: #bbb; }
			.child3 { background-color: green; }
		</style>
		<script>
			function allowDrop(ev) {
			    ev.preventDefault();
			    ev.currentTarget.style.backgroundColor="yellow";
			}

			function drag(ev) {
			    ev.dataTransfer.setData("text", ev.target.id);
			}

			function drop(ev) {
			    ev.preventDefault();
			    ev.currentTarget.style.backgroundColor="#ffffff"
			    rotate("v");
			    var data = ev.dataTransfer.getData("text");
			    ev.target.appendChild(document.getElementById(data));
			}
			function rotate(direction){
				$("#flex").attr("m-direction",direction);
				if(direction=="v"){
					$("#flex").css("width","40px");
					$("#flex").css("height","400px");
					$("#flex").css("flex-direction","column");
					
				}else{
					$("#flex").css("width","400px");
					$("#flex").css("height","40px");
					$("#flex").css("flex-direction","row");
					
				}
		}
		function dropm(ev) {
			    ev.preventDefault();
			    ev.currentTarget.style.backgroundColor="#ffffff"
			    rotate("h");
			    var data = ev.dataTransfer.getData("text");
			    ev.target.appendChild(document.getElementById(data));
			}
			function allowLeave(ev){
				 ev.preventDefault();
			    ev.currentTarget.style.backgroundColor="#ffffff"
			   
			}
		</script>

	</head>
<body>


<div id="flex_bottom" ondrop="dropm(event)" ondragover="allowDrop(event)" ondragleave="allowLeave(event)"></div>
<div id="flex_left" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="allowLeave(event)"></div>
<div id="flex_right" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="allowLeave(event)"></div>

<div id="flex_top" ondrop="dropm(event)" ondragover="allowDrop(event)" ondragleave="allowLeave(event)">
	<div id="flex" draggable="true" ondragstart="drag(event)">
	<div class="child child1">a
	</div>
	<div class="child child2">b
	</div>
	<div class="child child3">c
	</div>
</div>
	
</div>
</body>
</html>